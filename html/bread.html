<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/bread.css">
    <title>bread page</title>
</head>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const breadContainers = document.querySelectorAll('.container');
        let selectedBreads = sessionStorage.getItem('breads') ? JSON.parse(sessionStorage.getItem('breads')) : [];
    
        breadContainers.forEach(container => {
            container.addEventListener('click', function() {
                const breadName = this.querySelector('p').textContent;
                const index = selectedBreads.indexOf(breadName);
    
                if (index > -1) {
                    selectedBreads.splice(index, 1);
                } else {
                    selectedBreads.push(breadName);
                }
    
                sessionStorage.setItem('breads', JSON.stringify(selectedBreads)); // 저장
                console.log("Saved breads:", selectedBreads); // 로그 출력
                document.getElementById('selected-bread').textContent = selectedBreads.join(", ");
            });
        });

        const modal = document.querySelector('.modal');
        const modalOpen = document.querySelector('.modal_btn');
        const modalClose = document.querySelector('.close_btn');

        //열기 버튼을 눌렀을 때 모달팝업이 열림
        modalOpen.addEventListener('click',function(){
            //display 속성을 block로 변경
            modal.style.display = 'block';
        });
        //닫기 버튼을 눌렀을 때 모달팝업이 닫힘
        modalClose.addEventListener('click',function(){
        //display 속성을 none으로 변경
            modal.style.display = 'none';
        });
    });
    </script>
    
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const selectedSandwiches = sessionStorage.getItem('sandwiches') ? JSON.parse(sessionStorage.getItem('sandwiches')) : [];
            console.log("Loaded sandwiches on bread page:", selectedSandwiches); // 로그 출력
            if (selectedSandwiches.length > 0) {
                document.getElementById('selected-sandwiches-display').textContent = selectedSandwiches.join(", ");
            }
        });
        </script>
    
<body>
    <header>
        <div id = "logo">
            <img class="sb-logo" src="../img/small_logo.png" alt="서브웨이 로고" >
        </div>
    </header>
    <main>
    <aside>
        <!--종류-->
        <div>
            <a href="sandwich.html">
            <button type="button">
                <img src="../img/aside_main.png" alt="클릭 버튼">
            </button>
            <p><span class="subtitle">샌드위치</span></p>
            </a>
        </div>
        <div>
            <a href="bread.html">
            <button type="button">
                <img src="../img/aside_bread.png" alt="클릭 버튼">
            </button>
            <p><span class="subtitle">빵</span></p>
            </a>
        </div>
        <div>
            <a href="vege.html">
            <button type="button">
                <img src="../img/aside_vege.png" alt="클릭 버튼">
            </button>
            <p><span class="subtitle">야채</span></p>
            </a>
        </div>
        <div>
            <a href="side.html">
            <button type="button">
                <img src="../img/aside_topping.png" alt="클릭 버튼">
            </button>
            <p><span class="subtitle">추가토핑</span></p>
            </a>
        </div>
        <div>
            <a href="sc.html">
            <button type="button">
                <img src="../img/aside_sauce.png" alt="클릭 버튼">
            </button>
            <p><span class="subtitle">소스</span></p>
            </a>
        </div>
        <div>
            <a href="add.html">
            <button type="button">
                <img src="../img/aside_drink.png" alt="클릭 버튼">
            </button>
            <p><span class="subtitle">사이드/음료</span></p>
            </a>
        </div>
    </aside>
    <section>
        <div class="container">
            <div class="item">
                <img src="../img/br_honeyoat.png" alt="빵 1">
            </div>
            <p>허니오트</p>
        </div>
        <div class="container">
            <div class="item">
                <img src="../img/br_hatty.png" alt="빵 2">
            </div>
            <p>하티</p>
        </div>
        <div class="container">
            <div class="item">
                <img src="../img/br_wit.png" alt="빵 3">
            </div>
            <p>위트</p>
        </div>
        <div class="container">
            <div class="item">
                <img src="../img/br_pama.png" alt="빵 4">
            </div>
            <p>파마산 오레가노</p>
        </div>
        <div class="container">
            <div class="item">
                <img src="../img/br_white.png" alt="빵 5">
            </div>
            <p>화이트</p>
        </div>
        <div class="container">
            <div class="item">
                <img src="../img/br_plat.png" alt="빵 6">
            </div>
            <p>플랫브레드</p>
        </div>
    </section>
    </main>
    <div class="navigation-buttons">
        <button type="button" class="prev-button" onclick="location.href='sandwich.html' ">이전 단계</button>
        <button type="button" class="modal_btn">치즈 선택</button>
        <button type="button" class="next-button" onclick="location.href='vege.html' ">다음 단계</button>
    </div>
    <footer>
    <div id="order_list">
        <div id="order1" class="cart">
            <div class="footer-square">샌드위치</div> 
            <div class="selected-name" id="selected-sandwiches-display"></div>
        </div>
        <div id="order2" class="cart">
            <div class="footer-square">소스</div> 
            <div class="selected-name" id="selected-sauce"></div>
        </div>
        <div id="order3" class="cart">
            <div class="footer-square">빵</div> 
            <div class="selected-name" id="selected-bread"></div>
        </div>
        <div id="order4" class="cart">
            <div class="footer-square">사이드/음료</div>
            <div class="selected-name" id="selected-side"></div>
        </div>
        <div id="order5" class="cart">
            <div class="footer-square">야채</div>
            <div class="selected-name" id="selected-vege"></div>
        </div>
        <div id="order6" class="cart">
            <div class="footer-square">추가토핑</div>
            <div class="selected-name" id="selected-add"></div>
        </div>
    </div>
    </footer>
    <!--모달 팝업-->
    <div class="modal">
        <div class="modal_popup">
            <h3>치즈를 골라주세요</h3>
            <div class="cheese-select">
                <div class="contain">
                    <div class="chitem">
                        <img src="../img/ch_american.png" alt="치즈 1">
                    </div>
                    <p>아메리칸 치즈</p>
                </div>
                <div class="contain">
                    <div class="chitem">
                        <img src="../img/ch_shured.png" alt="치즈 2">
                    </div>
                    <p>슈레드 치즈</p>
                </div>
                <div class="contain">
                    <div class="chitem">
                        <img src="../img/ch_mozza.png" alt="치즈 3">
                    </div>
                    <p>모차렐라 치즈</p>
                </div>
            </div>
            <button type="button" class="close_btn">닫기</button>
        </div>
    </div>
</body>
</html>